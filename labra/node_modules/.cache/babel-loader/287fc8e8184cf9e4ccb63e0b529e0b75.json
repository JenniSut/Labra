{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jents\\\\OneDrive\\\\Asiakirjat\\\\Kouluhommat\\\\Front end\\\\uusiHarjoitutyo\\\\labra\\\\src\\\\components\\\\TilausEdit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Typography from '@material-ui/core/Typography';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport fiLocale from 'date-fns/locale/fi';\nimport axios from 'axios';\nimport { IconButton } from '@material-ui/core';\nimport NoteAddIcon from '@material-ui/icons/NoteAdd';\nimport { useParams } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TilausEdit() {\n  _s();\n\n  let {\n    id,\n    tuote,\n    tilauspvm,\n    tyontekija,\n    toimpvm,\n    hinta,\n    asiakas\n  } = useParams();\n  const [tilaus, setValues] = useState({\n    id: id,\n    tuote: tuote,\n    tilauspvm: tilauspvm,\n    tyontekija: tyontekija,\n    toimpvm: toimpvm,\n    hinta: hinta,\n    asiakas: asiakas\n  });\n  const [viesti, setViesti] = useState('');\n  const url = 'http://localhost:8080';\n  const [tyontekijat, setTyontekijat] = useState([]);\n\n  const muutaPaiva = date => {\n    setValues({ ...tilaus,\n      tilauspvm: date\n    });\n  };\n\n  const muutaTPaiva = date => {\n    setValues({ ...tilaus,\n      toimpvm: date\n    });\n  };\n\n  const haeTyontekijat = async () => {\n    try {\n      const response = await fetch(url + '/kanta/tyontekijat/all');\n      const json = await response.json();\n      setTyontekijat(json);\n    } catch (error) {\n      setTyontekijat([]);\n      console.log('Haku ei onnistunut');\n    }\n  };\n\n  useEffect(() => {\n    haeTyontekijat();\n  }, []);\n\n  const muuta = e => {\n    setValues({ ...tilaus,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        style: {\n          padding: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          required: true,\n          fullWidth: true,\n          name: \"tuote\",\n          label: \"Tuote\",\n          value: tilaus.tuote,\n          onChange: e => muuta(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n          utils: DateFnsUtils,\n          locale: fiLocale,\n          children: /*#__PURE__*/_jsxDEV(KeyboardDatePicker, {\n            label: \"Tilausp\\xE4iv\\xE4\",\n            name: \"tilauspaiva\",\n            fullWidth: true,\n            cancelLabel: \"Peruuta\",\n            required: true,\n            value: tilaus.tilauspaiva,\n            onChange: muutaPaiva,\n            format: \"dd.MM.yyyy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"tyont\",\n          children: \"Ty\\xF6ntekij\\xE4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          label: \"Ty\\xF6ntekij\\xE4\",\n          required: true,\n          fullWidth: true,\n          name: \"tyontekija\",\n          value: tilaus.tyontekija,\n          onChange: e => muuta(e),\n          labelId: \"tyont\",\n          children: tyontekijat.map(tyontekija => {\n            return /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: tyontekija.etunimi + ' ' + tyontekija.sukunimi,\n              children: [tyontekija.etunimi, \" \", tyontekija.sukunimi]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n          utils: DateFnsUtils,\n          locale: fiLocale,\n          children: /*#__PURE__*/_jsxDEV(KeyboardDatePicker, {\n            label: \"Toimitusp\\xE4iv\\xE4\",\n            name: \"toimpaiva\",\n            fullWidth: true,\n            cancelLabel: \"Peruuta\",\n            value: tilaus.toimpaiva,\n            onChange: muutaTPaiva,\n            format: \"dd.MM.yyyy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          required: true,\n          fullWidth: true,\n          name: \"hinta\",\n          label: \"Hinta\",\n          value: tilaus.hinta,\n          onChange: e => muuta(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          required: true,\n          fullWidth: true,\n          name: \"asiakas\",\n          label: \"Asiakas\",\n          value: tilaus.asiakas,\n          onChange: e => muuta(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: lisaaTilaus,\n        children: [/*#__PURE__*/_jsxDEV(NoteAddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), \"Lis\\xE4\\xE4 tilaus\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: viesti\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n}\n\n_s(TilausEdit, \"cA13giXGCj/U35fT4wmVTED0P9Q=\", false, function () {\n  return [useParams];\n});\n\n_c = TilausEdit;\nexport default TilausEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"TilausEdit\");","map":{"version":3,"sources":["C:/Users/jents/OneDrive/Asiakirjat/Kouluhommat/Front end/uusiHarjoitutyo/labra/src/components/TilausEdit.js"],"names":["React","useState","useEffect","Paper","TextField","Select","MenuItem","InputLabel","Typography","MuiPickersUtilsProvider","KeyboardDatePicker","DateFnsUtils","fiLocale","axios","IconButton","NoteAddIcon","useParams","TilausEdit","id","tuote","tilauspvm","tyontekija","toimpvm","hinta","asiakas","tilaus","setValues","viesti","setViesti","url","tyontekijat","setTyontekijat","muutaPaiva","date","muutaTPaiva","haeTyontekijat","response","fetch","json","error","console","log","muuta","e","target","name","value","padding","tilauspaiva","map","etunimi","sukunimi","toimpaiva","lisaaTilaus"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport {MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport fiLocale from 'date-fns/locale/fi';\r\n\r\nimport axios from 'axios';\r\nimport { IconButton } from '@material-ui/core';\r\nimport NoteAddIcon from '@material-ui/icons/NoteAdd';\r\nimport { useParams } from 'react-router';\r\n\r\nfunction TilausEdit() {\r\n    let {id, tuote, tilauspvm, tyontekija, toimpvm, hinta, asiakas} = useParams();\r\n\r\n    const [tilaus, setValues] = useState ({\r\n        id:id,\r\n        tuote:tuote,\r\n        tilauspvm:tilauspvm,\r\n        tyontekija:tyontekija,\r\n        toimpvm:toimpvm,\r\n        hinta:hinta,\r\n        asiakas:asiakas\r\n    });\r\n\r\n    const [viesti, setViesti] = useState('');\r\n\r\n    const url= 'http://localhost:8080';\r\n\r\n    const [tyontekijat, setTyontekijat] = useState([]);\r\n\r\n    const muutaPaiva = date => {\r\n        setValues ({\r\n            ...tilaus,\r\n            tilauspvm:date\r\n        });\r\n    };\r\n\r\n    const muutaTPaiva = date => {\r\n        setValues ({\r\n            ...tilaus,\r\n            toimpvm:date\r\n        });\r\n    };\r\n\r\n    const haeTyontekijat = async() => {\r\n        try {\r\n            const response = await fetch (url + '/kanta/tyontekijat/all');\r\n            const json = await response.json();\r\n            setTyontekijat(json);\r\n        }catch (error) {\r\n            setTyontekijat([]);\r\n            console.log('Haku ei onnistunut');\r\n        }\r\n    };\r\n\r\n    useEffect(() =>{\r\n        haeTyontekijat();\r\n    }, []);\r\n\r\n    const muuta = (e) => {\r\n        setValues ({\r\n            ...tilaus,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    return(\r\n        <div>\r\n            <Paper>\r\n                <form style={{padding:20}}>\r\n\r\n                <TextField \r\n                required\r\n                fullWidth \r\n                name='tuote'\r\n                label='Tuote' \r\n                value={tilaus.tuote}\r\n                onChange = {(e) => muuta(e)}/>\r\n\r\n                <MuiPickersUtilsProvider utils={DateFnsUtils} locale={fiLocale} >\r\n                    <KeyboardDatePicker label='Tilauspäivä' name='tilauspaiva'\r\n                    fullWidth={true} \r\n                    cancelLabel='Peruuta'\r\n                    required\r\n                    value={tilaus.tilauspaiva}\r\n                     onChange={muutaPaiva}\r\n                    format='dd.MM.yyyy' />\r\n                </MuiPickersUtilsProvider>\r\n\r\n                \r\n                <InputLabel id=\"tyont\">Työntekijä</InputLabel>\r\n                <Select\r\n                label='Työntekijä'\r\n                required\r\n                fullWidth\r\n                name='tyontekija'\r\n                value={tilaus.tyontekija}\r\n                onChange= {(e) => muuta(e)}\r\n                labelId='tyont'\r\n                >\r\n                    {tyontekijat.map(tyontekija => {\r\n                        return(\r\n                            <MenuItem value={tyontekija.etunimi + ' ' + tyontekija.sukunimi }>{tyontekija.etunimi} {tyontekija.sukunimi}</MenuItem>\r\n                        )\r\n                    })}\r\n                    \r\n                </Select>\r\n                \r\n\r\n                <MuiPickersUtilsProvider utils={DateFnsUtils} locale={fiLocale}>\r\n                    <KeyboardDatePicker label='Toimituspäivä' name='toimpaiva'\r\n                    fullWidth={true} \r\n                    cancelLabel='Peruuta'                   \r\n                    value={tilaus.toimpaiva}\r\n                    onChange={ muutaTPaiva}\r\n                    format='dd.MM.yyyy' />\r\n                </MuiPickersUtilsProvider>\r\n\r\n                <TextField \r\n                required\r\n                fullWidth\r\n                name='hinta' \r\n                label='Hinta' \r\n                value={tilaus.hinta}\r\n                onChange = {(e) => muuta(e)}/>\r\n\r\n                <TextField \r\n                required\r\n                fullWidth \r\n                name='asiakas'\r\n                label='Asiakas' \r\n                value={tilaus.asiakas}\r\n                onChange = {(e) => muuta(e)}/>\r\n\r\n                </form>\r\n                <IconButton\r\n                onClick={lisaaTilaus}>\r\n                    <NoteAddIcon/>\r\n                    Lisää tilaus\r\n                </IconButton>\r\n\r\n                <Typography>{viesti}</Typography>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TilausEdit;"]},"metadata":{},"sourceType":"module"}